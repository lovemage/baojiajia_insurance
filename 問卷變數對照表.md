# 問卷變數對照表

本文件根據 `問卷邏輯.md` 與系統程式碼（`ResultStep.tsx` 等）整理，列出問卷輸入變數、對應的程式碼欄位、以及 PDF 模板中的顯示邏輯。

## 1. 基本資料 (Basic Info)

| 問卷題目/來源 | 程式碼變數 (Data Key) | PDF 變數 (Variable) | 邏輯/備註 |
| :--- | :--- | :--- | :--- |
| **姓名** | `name` | `{{name}}` | 下載前輸入，顯示於 P1 需求分析報告、P2 基本資料。 |
| **手機號碼** | `phone` | `{{phone}}` | 下載前輸入，顯示於 P2。 |
| **居住縣市** | `city` | `{{city}}` | 下載前輸入，顯示於 P2。 |
| **Line ID** | `lineId` | `{{lineId}}` | 下載前輸入，顯示於 P2。 |
| **產出日期** | (系統自動生成) | `{{generatedDate}}` | 格式：YYYY/MM/DD，顯示於 P1。 |
| **平均月薪** | `monthlyIncome` | `{{monthlyIncomeInTenThousand}}` | 成人必填。用於計算部分保額（如 1-11級一次金、居家休養費）。<br>幼兒方案若無輸入則視為 0 或需確認邏輯。 |

## 2. 醫療需求 (Medical Needs)

對應 PDF 第三頁 (Page 3)。

| 問卷題目 | 選項/輸入 | 程式碼變數 (Data Key) | PDF 變數 (Variable) | 顯示邏輯 |
| :--- | :--- | :--- | :--- | :--- |
| **病房選擇** | 4-6人健保病房<br>雙人病房<br>單人病房 | `roomType`<br>值: `normal`, `double`, `single` | `{{roomType}}`<br>`{{roomCost}}` | **房型名稱**: 顯示「健保房」、「雙人房」或「單人房」<br>**每日病房限額**: <br>健保房 -> `0`<br>雙人房 -> `3,000`<br>單人房 -> `5,000` |
| **住院日額補償** | 輸入金額 (例如 3000) | `hospitalDaily` (或 `dailyCompensation`) | `{{hospitalDaily}}` | 每日薪資補償。<br>直接顯示輸入金額 (千分位)，例如 `3,000`。 |
| **手術醫療補貼** | 部分補貼 (10~20萬)<br>建議補貼 (20~30萬)<br>完整補貼 (30~40萬) | `surgerySubsidy`<br>值: `partial`, `recommended`, `full` | `{{surgeryRange}}` | 住院雜費開銷。<br>部分 -> `10～20萬`<br>建議 -> `20～30萬`<br>完整 -> `30～40萬` |
| **門診雜費** | (固定值) | - | `{{outpatientSurgeryRange}}` | 門診雜費開銷。<br>一律顯示 `5～10萬`。 |

## 3. 壽險需求 (Life Insurance) - 成人適用

對應 PDF 第四頁、第五頁 (Page 4, 5)。

| 問卷題目 | 輸入 | 程式碼變數 (Data Key) | PDF 變數 (Variable) | 顯示邏輯 |
| :--- | :--- | :--- | :--- | :--- |
| **個人債務總額** | 輸入金額 (萬) | `personalDebt` | `{{personalDebt}}` | 身故理賠金 (P4)。<br>顯示輸入金額 (千分位)，例如 `500` 或 `1,000`。 |
| **家人照顧金** | 輸入金額 (萬) | `familyCare` | `{{familyCare}}` | 身故理賠金 (P5)。<br>顯示輸入金額 (千分位)，例如 `500` 或 `1,000`。 |

## 4. 意外保障 (Accident Coverage)

對應 PDF 第五頁 (Page 5) 下方。

| 項目 | 來源 | PDF 變數 (Variable) | 顯示邏輯 |
| :--- | :--- | :--- | :--- |
| **意外住院日額** | (固定值) | `{{accidentDailyRange}}` | 一律顯示 `1,000～2,000`。 |
| **意外實支實付** | (固定值) | `{{accidentReimbursementRange}}` | 一律顯示 `5～10` (單位：萬)。 |
| **重大燒燙傷** | (固定值) | `{{majorBurnRange}}` | 一律顯示 `50～100` (單位：萬)。 |
| **居家休養費用** | 計算值 (`monthlyIncome`) | `{{homeCareInTenThousand}}` | 依據月薪收入換算成萬。<br>例如月薪 50,000 -> 顯示 `5` (萬)。 |

## 5. 重症需求 (Critical Illness)

對應 PDF 第六頁 (Page 6)、第七頁 (Page 7)。

| 問卷題目 | 輸入 | 程式碼變數 (Data Key) | PDF 變數 (Variable) | 顯示邏輯 |
| :--- | :--- | :--- | :--- | :--- |
| **薪資損失補償** | 輸入金額 | `salaryLoss` | `{{salaryLossInTenThousand}}` | 休養時薪資損失(年)。<br>輸入金額除以 10000。<br>例如輸入 600,000 -> 顯示 `60` (萬)。 |
| **每月生活開銷** | 輸入金額 | `livingExpense` | `{{livingExpenseInTenThousand}}` | 休養時日常開銷(年)。<br>**注意：需乘以 12**。<br>輸入 40,000 -> 40000*12/10000 -> 顯示 `48` (萬)。 |
| **治療費用補償** | 輸入金額 | `treatmentCost` | `{{treatmentCostInTenThousand}}` | 罹癌給付一次金。<br>輸入金額除以 10000。<br>例如輸入 600,000 -> 顯示 `60` (萬)。 |
| **一次性理賠金** | (固定值) | - | `{{fixedOneTimeBenefit}}` | (P7) 一律顯示 `100`。 |

## 6. 長照需求 (Long Term Care)

對應 PDF 第八頁 (Page 8)。

| 問卷題目 | 輸入 | 程式碼變數 (Data Key) | PDF 變數 (Variable) | 顯示邏輯 |
| :--- | :--- | :--- | :--- | :--- |
| **長照費用需求** | 輸入金額 | `longTermCare` (或 `longTermCareCost`) | `{{longTermCare1to6Disease}}`<br>`{{longTermCare1to6Accident}}` | 1~6級扶助金(疾病/意外)。<br>輸入金額除以 10000。<br>例如輸入 50,000 -> 顯示 `5` (萬)。 |
| **1~11級一次金** | 計算值 (`monthlyIncome`) | - | `{{longTermCare1to11Disease}}`<br>`{{longTermCare1to11Accident}}` | 1~11級一次金(疾病/意外)。<br>邏輯：`月薪 * 50 * 5%` ～ `月薪 * 50`<br>例如月薪 50,000：<br>Min: 50000*50*0.05 = 125,000 (12.5萬)<br>Max: 50000*50 = 2,500,000 (250萬)<br>顯示：`12.5萬～250萬` |

## 幼兒版特別說明 (Child Plan)

邏輯與成人版大致相同，主要差異在於：
1. **基本資料**：不詢問婚姻狀況。
2. **壽險需求**：幼兒版無此頁面/需求，跳過 P4, P5 的壽險部分（但 P5 的意外保障仍保留）。
3. **文字描述**：問卷中的引導文字會針對「父母照顧孩子」的情境調整。

### 幼兒專用變數

| 項目 | PDF 變數 (Variable) | 顯示邏輯 |
| :--- | :--- | :--- |
| **幼兒身故理賠金** | `{{childDeathBenefit}}` | 固定值 `69` (萬)。 |
